<!DOCTYPE html>
<html lng="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/hamburger.css">
    <link rel="stylesheet" href="/css/logo.css">
    <link rel="stylesheet" href="/css/Simple-Slider-swiper-bundle.css">
    <link rel="stylesheet" href="/css/Simple-Slider.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
</head>

<body style="background: rgb(109, 132, 109);">
    <header
        style="background: url(/img/porsche-1851246_1280.jpg) center / cover no-repeat;height: 555px;margin-bottom: 0px;">
        <nav class="navbar navbar-expand-md py-3" data-bs-theme="dark"
            style="background: rgba(0,0,0,0.76);padding: 15px 0px;">
            <div class="container" id="navbar">
                <a class="navbar-brand d-flex align-items-center" href="#">
                    <span
                        class="bs-icon-sm bs-icon-rounded bs-icon-primary d-flex justify-content-center align-items-center me-2 bs-icon"
                        style="background: rgb(61,253,13);">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor"
                            viewBox="0 0 16 16" class="bi bi-car-front"
                            style="border-color: rgb(255,255,255);color: #0e0e0e;">
                            <path
                                d="M4 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0m10 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM4.862 4.276 3.906 6.19a.51.51 0 0 0 .497.731c.91-.073 2.35-.17 3.597-.17 1.247 0 2.688.097 3.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 10.691 4H5.309a.5.5 0 0 0-.447.276">
                            </path>
                            <path
                                d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM4.82 3a1.5 1.5 0 0 0-1.379.91l-.792 1.847a1.8 1.8 0 0 1-.853.904.807.807 0 0 0-.43.564L1.03 8.904a1.5 1.5 0 0 0-.03.294v.413c0 .796.62 1.448 1.408 1.484 1.555.07 3.786.155 5.592.155 1.806 0 4.037-.084 5.592-.155A1.479 1.479 0 0 0 15 9.611v-.413c0-.099-.01-.197-.03-.294l-.335-1.68a.807.807 0 0 0-.43-.563 1.807 1.807 0 0 1-.853-.904l-.792-1.848A1.5 1.5 0 0 0 11.18 3z">
                            </path>
                        </svg>
                    </span>
                    <span style="font-size: 25px;color: #75f94c;margin-left: 10px;">AutoMarket</span>
                </a>
                <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"
                    style="background: #75f94c;border-style: none;">
                    <span class="navbar-toggler-icon" style="border-style: none;"></span>
                </button>
                <div class="collapse navbar-collapse" id="navcol-1">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link active" href="http://localhost:3000"
                                style="color: rgb(133,204,127);">Etusivu</a></li>
                        <li class="nav-item"><a class="nav-link" href="http://localhost:3000/items/search?"
                                style="color: rgba(133, 204, 127, 1);">Myynti-ilmoitukset</a></li>
                        <li class="nav-item"><a class="nav-link" href="http://localhost:3000/new_listing"
                                style="color: rgba(133, 204, 127, 1);">Uusi ilmoitus</a></li>
                        <li class="nav-item"><a class="nav-link" href="http://localhost:3000/contact" style="color: rgba(133, 204, 127, 1);">Ota
                                Yhteyttä</a></li>
                    </ul>
                </div>
                <button id="enButton" onclick="changeLanguage('en')">English</button>
                <button id="fiButton" onclick="changeLanguage('fi')">Suomi</button>
            </div>
        </nav>
    </header>

    {{{body}}}

    <nav class="navbar navbar-expand-md py-3" data-bs-theme="dark" style="background: rgba(0,0,0,0.76);">
        <div class="container"><a class="navbar-brand d-flex align-items-center" href="#"><span
                    class="bs-icon-sm bs-icon-rounded bs-icon-primary d-flex justify-content-center align-items-center me-2 bs-icon"
                    style="background: rgb(61,253,13);"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                        fill="currentColor" viewBox="0 0 16 16" class="bi bi-car-front"
                        style="border-color: rgb(255,255,255);color: #0e0e0e;">
                        <path
                            d="M4 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0m10 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM4.862 4.276 3.906 6.19a.51.51 0 0 0 .497.731c.91-.073 2.35-.17 3.597-.17 1.247 0 2.688.097 3.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 10.691 4H5.309a.5.5 0 0 0-.447.276">
                        </path>
                        <path
                            d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM4.82 3a1.5 1.5 0 0 0-1.379.91l-.792 1.847a1.8 1.8 0 0 1-.853.904.807.807 0 0 0-.43.564L1.03 8.904a1.5 1.5 0 0 0-.03.294v.413c0 .796.62 1.448 1.408 1.484 1.555.07 3.786.155 5.592.155 1.806 0 4.037-.084 5.592-.155A1.479 1.479 0 0 0 15 9.611v-.413c0-.099-.01-.197-.03-.294l-.335-1.68a.807.807 0 0 0-.43-.563 1.807 1.807 0 0 1-.853-.904l-.792-1.848A1.5 1.5 0 0 0 11.18 3z">
                        </path>
                    </svg></span><span
                    style="font-size: 25px;color: #75f94c;margin-left: 10px;">AutoMarket</span></a><button
                data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-2"
                style="background: #75f94c;border-style: none;"><span class="navbar-toggler-icon"
                    style="border-style: none;"></span></button>
            <div class="collapse navbar-collapse" id="navcol-2">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="http://localhost:3000"
                            style="color: rgb(133,204,127);">Etusivu</a></li>
                    <li class="nav-item"><a class="nav-link" href="http://localhost:3000/items/search?"
                            style="color: rgba(133, 204, 127, 1);">Myynti-ilmoitukset</a></li>
                    <li class="nav-item"><a class="nav-link" href="http://localhost:3000/new_listing"
                                style="color: rgba(133, 204, 127, 1);">Uusi ilmoitus</a></li>
                    <li class="nav-item"><a class="nav-link" href="http://localhost:3000/contact" style="color: rgba(133, 204, 127, 1);">Ota
                                Yhteyttä</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <script src="/js/bootstrap.min.js"></script>        
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>    
    <script src="/scripts/scripts.js"></script> 
    <script src="https://unpkg.com/i18next@latest/i18next.min.js"></script>
    <script src="https://unpkg.com/i18next-browser-languagedetector/i18nextBrowserLanguageDetector.min.js"></script>
    <script src="https://unpkg.com/i18next-http-backend/i18nextHttpBackend.min.js"></script>
    <script src="https://unpkg.com/i18next-http-backend@latest/i18nextHttpBackend.min.js"></script>
    <script>
        // Alustetaan i18next
        i18next.use(i18nextHttpBackend).init({
            lng: 'en',
            debug: true,
            backend: {
                loadPath: '/locales/{{lng}}/translation.json'
            }
        }).then(() => {
            console.log('i18next initialized successfully in the browser');
        
            // Kun DOM on ladattu, lisää tapahtumankäsittelijät
            document.addEventListener('DOMContentLoaded', () => {
                console.log('DOM fully loaded and parsed!');
                // Kun nappia klikataan, vaihda kieli ja päivitä sisältö
                document.getElementById('enButton').addEventListener('click', () => {
                    console.log('English button clicked');
                    changeLanguage('en');
                });

                document.getElementById('fiButton').addEventListener('click', () => {
                    console.log('Finnish button clicked');
                    changeLanguage('fi'); 
                });
               // updateContent();
            });
        }).catch(err => {
            console.error('i18next initialization error in the browser:', err)
        });


        // Function to change the language
        function changeLanguage(lng) {
            console.log('Changing language to:', lng);
            i18next.changeLanguage(lng)
                .then(() => {
                    console.log(`Language changed to: ${lng}`);
                    updateContent();
                })
                .catch((error) => {
                    console.error('Error changing language:', error);
                });
            };

        // function to updating content
        function updateContent() {
            console.log("Updating content..");
            const kaannosElement = document.getElementById('etsi_kaannos');
            if (kaannosElement) {
                const translation = i18next.t('search_vehicles1');
                console.log('Translation found:', translation);
                kaannosElement.innerHTML = translation;
            } else {
                console.error("Element with id 'etsi_kaannos' not found.");
            };
        };




    </script>
</body>

</html>